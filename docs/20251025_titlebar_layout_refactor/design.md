# タイトルバーレイアウト改修

## 概要

タイトルバーのボタン配置とデザインを改善し、より直感的で使いやすいUIを実現する。

## 目的

- ボタンの配置を最適化し、機能グループを視覚的に明確にする
- ズーム関連ボタンをグループ化して一体感を持たせる
- ファイル操作関連のボタンをより分かりやすいアイコンに変更する
- 設定ボタンをウィンドウ制御ボタンの近くに配置して操作性を向上させる

## 要件

### 1. ボタン配置の変更

#### 現在の配置
```
[左側]
- ギャラリー展開ボタン（ハンバーガーメニューアイコン）

[中央右寄り]
- ズームアウト
- ズームリセット（倍率表示）
- ズームイン
- 画面フィット
- 回転
- マルチメニュー
- 設定

[右側]
- 最小化
- 最大化
- 閉じる
```

#### 変更後の配置
```
[左側]
- ギャラリー展開ボタン（ファイルアイコン）
- ズーム3ボタングループ
  - ズームアウト
  - ズームリセット（倍率表示）
  - ズームイン

[中央右寄り]
- 画面フィット
- 回転
- マルチメニュー

[右側]
- 設定
- 最小化
- 最大化
- 閉じる
```

### 2. ギャラリー展開ボタンのアイコン変更

**現在**: ハンバーガーメニューアイコン（3本線）
**変更後**: ファイル/フォルダアイコン

理由：ギャラリー展開はファイル一覧を表示する機能であり、ファイルアイコンの方が機能を直感的に表現できる。

### 3. ズーム3ボタンのグループ化

ズームアウト、ズームリセット、ズームインの3つのボタンを視覚的に1つのユニットとして表現する。

**デザインイメージ**: iTunes等の音楽プレーヤーの再生コントロール
- 3つのボタンを隣接させる
- グループ全体に統一された背景や枠線を適用
- 個々のボタンは独立してクリック可能
- ホバー時には個別のボタンがハイライトされる

**実装方針**:
1. 3つのボタンを囲む親コンテナを作成
2. 親コンテナに`rounded-md`と`border`を適用して一体感を持たせる
3. 各ボタンの角丸を調整
   - 左端（ズームアウト）: 左側のみ角丸
   - 中央（ズームリセット）: 角丸なし
   - 右端（ズームイン）: 右側のみ角丸
4. ボタン間に細い仕切り線を追加
5. ホバー効果は個別のボタンに適用

### 4. 設定ボタンの配置変更

**現在**: 中央右寄りのコントロールボタン群の最後
**変更後**: 右側のウィンドウコントロールボタン群の最初（最小化の左隣）

理由：設定はアプリケーション全体に関わる機能であり、ウィンドウ操作と同じグループに配置することで、グローバルな操作として明確にする。

## 技術的な実装詳細

### レイアウト構造

```tsx
<div id="titlebar">
  {/* 左側: ファイル操作とズームグループ */}
  <div class="flex items-center gap-1">
    {/* ギャラリー展開ボタン（ファイルアイコン） */}
    <button>...</button>

    {/* ズーム3ボタングループ */}
    <div class="flex items-center border rounded-md">
      <button class="rounded-l-md">ズームアウト</button>
      <div class="border-l" />
      <button class="rounded-none">ズームリセット</button>
      <div class="border-l" />
      <button class="rounded-r-md">ズームイン</button>
    </div>
  </div>

  {/* 中央右寄り: ビュー操作ボタン */}
  <div class="flex items-center gap-1 mr-2">
    <button>画面フィット</button>
    <button>回転</button>
    <button>マルチメニュー</button>
  </div>

  {/* 右側: グローバル操作とウィンドウコントロール */}
  <div class="flex items-center gap-1">
    <button>設定</button>
    <button>最小化</button>
    <button>最大化</button>
    <button>閉じる</button>
  </div>
</div>
```

### スタイリング

#### ズームボタングループの親コンテナ
```css
border border-white/20 dark:border-white/10
bg-transparent
rounded-md
transition-all duration-200
```

#### ズームボタン個別
```css
/* 左端（ズームアウト） */
rounded-l-md rounded-r-none

/* 中央（ズームリセット） */
rounded-none

/* 右端（ズームイン） */
rounded-l-none rounded-r-md
```

#### ボタン間の仕切り線
```css
border-l border-white/10 dark:border-white/5
h-4
```

### ファイルアイコン

フォルダアイコンのSVGを使用：
```svg
<svg width="20" height="20" viewBox="0 0 24 24" fill="none">
  <path
    d="M3 6v12a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-8l-2-2H5a2 2 0 00-2 2z"
    stroke="currentColor"
    stroke-width="2"
    stroke-linecap="round"
    stroke-linejoin="round"
  />
</svg>
```

## 期待される効果

1. **視覚的な整理**: 機能グループが明確になり、ユーザーがボタンを見つけやすくなる
2. **操作性の向上**: 関連する機能が近くに配置され、操作フローがスムーズになる
3. **一貫性の向上**: ズームボタンのグループ化により、関連機能の関係性が視覚的に明確になる
4. **直感的な理解**: ファイルアイコンによりギャラリー機能が理解しやすくなる

## 注意事項

- 既存の機能を損なわないこと
- アクセシビリティ（aria-label）を適切に設定すること
- ダークモード対応を維持すること
- ホバー/アクティブ状態のアニメーションを保持すること
