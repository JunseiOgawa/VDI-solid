# Linux対応 タスク管理

## Phase 1: 基本ビルド対応

### タスク1.1: GitHub Actionsワークフローの拡張
- [ ] `.github/workflows/release.yml`に`build-linux`ジョブを追加
- [ ] Linux環境でのシステム依存関係インストールステップを追加
- [ ] Rustツールチェーンのセットアップ
- [ ] フロントエンド依存関係のインストール
- [ ] Tauriアプリケーションのビルド実行

### タスク1.2: Linux向けビルド成果物のアップロード
- [ ] DEBファイルのアップロード設定
- [ ] DEBファイルの署名(.deb.sig)のアップロード設定
- [ ] ビルド成果物の保存期間設定

## Phase 2: AppImageサポート

### タスク2.1: tauri.conf.jsonの拡張
- [ ] `bundle.linux.appimage`セクションの追加
- [ ] AppImage設定の最適化

### タスク2.2: AppImageビルドの検証
- [ ] AppImageファイルの生成確認
- [ ] AppImage署名(.AppImage.sig)の生成確認
- [ ] GitHub Actionsでのアップロード設定

## Phase 3: アップデータ対応

### タスク3.1: latest.json生成スクリプトの拡張
- [ ] Linux向けプラットフォーム情報の追加
- [ ] Linux署名ファイルの読み込み処理
- [ ] マルチプラットフォーム対応のJSON構造に変更
- [ ] エラーハンドリングの改善

### タスク3.2: アップデータの動作確認
- [ ] Linux環境でのアップデート通知表示確認
- [ ] アップデートダウンロード機能の確認
- [ ] 署名検証機能の確認
- [ ] インストール処理の確認

## Phase 4: ドキュメント整備

### タスク4.1: README.mdの更新
- [ ] Linux向けビルド手順の追加
- [ ] Linux前提条件の記載
- [ ] Linuxでのインストール方法の追加
- [ ] 動作確認済みディストリビューション一覧の追加

### タスク4.2: 開発者向けドキュメントの作成
- [ ] Linux開発環境セットアップガイド
- [ ] トラブルシューティングガイド
- [ ] ディストリビューション別の注意事項

## テストタスク

### ビルドテスト
- [ ] Ubuntu 22.04でのビルド成功確認
- [ ] GitHub Actionsでのビルド成功確認
- [ ] DEBパッケージの生成確認
- [ ] AppImageの生成確認
- [ ] 署名ファイルの生成確認

### 機能テスト
- [ ] アプリケーション起動確認
- [ ] 画像表示機能の動作確認
- [ ] ズーム機能の動作確認
- [ ] 回転機能の動作確認
- [ ] ファイルダイアログの動作確認
- [ ] 自動更新機能の動作確認

### リリーステスト
- [ ] GitHub Releasesへのアップロード確認
- [ ] latest.jsonの内容確認
- [ ] ダウンロードしたファイルのインストール確認
- [ ] 実際のアップデート処理の確認

## 進捗状況

### 完了
- [x] 設計書の作成
- [x] タスクリストの作成

### 進行中
- [ ] (作業開始後に更新)

### 未着手
- [ ] GitHub Actionsワークフローの実装
- [ ] AppImageサポートの実装
- [ ] アップデータ対応の実装
- [ ] ドキュメント更新

## 注意事項

1. **既存機能への影響**
   - Windows/macOSビルドに影響を与えないよう注意
   - 既存のGitHub Actionsワークフローが正常に動作することを確認

2. **セキュリティ**
   - 署名鍵の取り扱いに注意
   - GitHub Secretsの適切な設定

3. **互換性**
   - 複数のLinuxディストリビューションでの動作を考慮
   - 依存関係のバージョン指定に注意

4. **パフォーマンス**
   - ビルド時間の増加に注意
   - 並列ビルドの活用を検討
